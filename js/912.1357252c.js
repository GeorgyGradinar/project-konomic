"use strict";(self["webpackChunktest_project_konomic"]=self["webpackChunktest_project_konomic"]||[]).push([[912],{9912:function(t,e,s){s.r(e),s.d(e,{default:function(){return z}});var r=s(3396),o=s(7139);const a={class:"order-book"},i={class:"order-book__symbol"};function l(t,e,s,l,n,d){const c=(0,r.up)("OrderList");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r.Wm)(c,{orders:t.asks,name:"Asks"},null,8,["orders"]),(0,r._)("p",i,(0,o.zw)(t.currentSymbol)+"USDT",1),(0,r.Wm)(c,{orders:t.bids,name:"Bids"},null,8,["orders"])])}var n=s(65),d=s(7627),c=s(5938),u=(s(7658),s(2379));const h={method:{webSocket(t){const e=(0,n.oR)(d.J),s=new WebSocket(`wss://stream.binance.com:9443/ws/${t.toLowerCase()}usdt@depth`);s.onmessage=t=>{const s=JSON.parse(t.data);this.updateOrdersInMainStore(s.a,e.state.asks),this.updateOrdersInMainStore(s.b,e.state.bids),e.commit("sortOrders"),e.state.asks=e.state.asks.slice(0,u.sE),e.state.bids=e.state.bids.slice(0,u.sE)},e.state.wsSubscription=s},updateOrdersInMainStore(t,e){t.forEach((t=>{const s=Number(t[0]),r=Number(t[1]);if(r){let t=e.find((t=>t.price===s));if(t){const e=t.quantity+r;t={price:s,quantity:e,total:(t.price*e).toFixed(3)}}else e.push({price:s,quantity:r,total:(s*r).toFixed(3)})}}))},closeWS(){const t=(0,n.oR)(d.J);t.state.wsSubscription&&t.state.wsSubscription.close()}}};var b=s(9694),m=s(1138),p=s(7041),v=s(320),_=s(9888),f=s(131);const w=(0,v.aZ)({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...(0,b.f)(),...(0,m.Q)(),...(0,p.x$)()},setup(t,e){let{slots:s}=e;const{themeClasses:o}=(0,p.ER)(t),{densityClasses:a}=(0,b.t)(t);return(0,_.L)((()=>{var e,i,l;return(0,r.Wm)(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!s.top,"v-table--has-bottom":!!s.bottom,"v-table--hover":t.hover},o.value,a.value]},{default:()=>[null==(e=s.top)?void 0:e.call(s),s.default?(0,r.Wm)("div",{class:"v-table__wrapper",style:{height:(0,f.kb)(t.height)}},[(0,r.Wm)("table",null,[s.default()])]):null==(i=s.wrapper)?void 0:i.call(s),null==(l=s.bottom)?void 0:l.call(s)]})})),{}}}),k={class:"order-list"},S=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null," price "),(0,r._)("th",null," quantity "),(0,r._)("th",{class:"order-list__total"}," total ")])],-1),y={class:"order-list__total"};function g(t,e,s,a,i,l){return(0,r.wg)(),(0,r.iD)("div",k,[(0,r._)("p",null,(0,o.zw)(t.name),1),(0,r.Wm)(w,{height:"40vh","fixed-header":"",class:"order-list__table"},{default:(0,r.w5)((()=>[S,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.orders,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.price},[(0,r._)("td",null,(0,o.zw)(t.price),1),(0,r._)("td",null,(0,o.zw)(t.quantity),1),(0,r._)("td",y,(0,o.zw)(t.total),1)])))),128))])])),_:1})])}var $=(0,r.aZ)({name:"OrderList",props:["orders","name"]}),x=s(89);const O=(0,x.Z)($,[["render",g]]);var W=O,C=(0,r.aZ)({name:"HomeView",components:{OrderList:W},mounted(){this.currentSymbol=this.$store.state.currentCrypto,c.v.method.getAllOrders(this.currentSymbol),h.method.webSocket(this.currentSymbol),this.asks=this.$store.state.asks,this.bids=this.$store.state.bids},data(){return{asks:[],bids:[],currentSymbol:"",$store:(0,n.oR)(d.J)}},watch:{"$store.state.asks"(){this.asks=this.$store.state.asks},"$store.state.bids"(){this.bids=this.$store.state.bids},"$store.state.currentCrypto"(){this.currentSymbol=this.$store.state.currentCrypto}},unmounted(){h.method.closeWS()}});const q=(0,x.Z)(C,[["render",l],["__scopeId","data-v-41d009e3"]]);var z=q}}]);
//# sourceMappingURL=912.1357252c.js.map