{"version":3,"file":"js/912.1357252c.js","mappings":"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","sources":["webpack://test-project-konomic/./src/views/HomeView.vue?0502","webpack://test-project-konomic/./src/mixins/web-sockets.ts","webpack://test-project-konomic/../../../src/components/VTable/VTable.tsx","webpack://test-project-konomic/./src/components/OrderList.vue?0497","webpack://test-project-konomic/./src/components/OrderList.vue?5160","webpack://test-project-konomic/./src/components/OrderList.vue","webpack://test-project-konomic/./src/views/HomeView.vue?4752","webpack://test-project-konomic/./src/views/HomeView.vue"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-41d009e3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"order-book\" }\nconst _hoisted_2 = { class: \"order-book__symbol\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_OrderList = _resolveComponent(\"OrderList\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_OrderList, {\n      orders: _ctx.asks,\n      name: 'Asks'\n    }, null, 8, [\"orders\"]),\n    _createElementVNode(\"p\", _hoisted_2, _toDisplayString(_ctx.currentSymbol) + \"USDT\", 1),\n    _createVNode(_component_OrderList, {\n      orders: _ctx.bids,\n      name: 'Bids'\n    }, null, 8, [\"orders\"])\n  ]))\n}","import {useStore} from \"vuex\";\r\nimport {key} from \"@/store\";\r\nimport {Order} from \"@/interfaces/order.interface\";\r\nimport {ORDERS_LIMIT} from \"@/config\";\r\n\r\nexport const webSockets = {\r\n    method: {\r\n        webSocket(currentSymbol: string): void {\r\n            const $store = useStore(key);\r\n\r\n            const currentWebSocket = new WebSocket(`wss://stream.binance.com:9443/ws/${currentSymbol.toLowerCase()}usdt@depth`);\r\n            currentWebSocket.onmessage = (event: { data: string }) => {\r\n                const currentBinancePrices = JSON.parse(event.data);\r\n\r\n                this.updateOrdersInMainStore(currentBinancePrices.a, $store.state.asks);\r\n                this.updateOrdersInMainStore(currentBinancePrices.b, $store.state.bids);\r\n\r\n\r\n                $store.commit('sortOrders');\r\n\r\n                $store.state.asks = $store.state.asks.slice(0, ORDERS_LIMIT);\r\n                $store.state.bids = $store.state.bids.slice(0, ORDERS_LIMIT);\r\n            }\r\n\r\n            $store.state.wsSubscription = currentWebSocket;\r\n        },\r\n\r\n        updateOrdersInMainStore(currentBinancePrices: string[][], orders: Order[]) {\r\n            currentBinancePrices.forEach((el: string[]) => {\r\n                const price = Number(el[0]);\r\n                const quantity = Number(el[1]);\r\n\r\n                if (quantity) {\r\n                    let foundedOrder: Order | undefined = orders.find(element => element.price === price);\r\n                    if (foundedOrder) {\r\n                        const newQuantity = foundedOrder.quantity + quantity;\r\n                        foundedOrder = {\r\n                            price,\r\n                            quantity: newQuantity,\r\n                            total: (foundedOrder.price * newQuantity).toFixed(3)\r\n\r\n                        }\r\n                    } else {\r\n                        orders.push({\r\n                            price,\r\n                            quantity,\r\n                            total: (price * quantity).toFixed(3)\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        },\r\n\r\n        closeWS() {\r\n            const $store = useStore(key);\r\n            $store.state.wsSubscription && $store.state.wsSubscription.close();\r\n        }\r\n    }\r\n}\r\n","// Styles\nimport './VTable.sass'\n\n// Composables\nimport { makeDensityProps, useDensity } from '@/composables/density'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\n\n// Utilities\nimport { convertToUnit, defineComponent, useRender } from '@/util'\n\nexport const VTable = defineComponent({\n  name: 'VTable',\n\n  props: {\n    fixedHeader: Boolean,\n    fixedFooter: Boolean,\n    height: [Number, String],\n    hover: Boolean,\n\n    ...makeDensityProps(),\n    ...makeTagProps(),\n    ...makeThemeProps(),\n  },\n\n  setup (props, { slots }) {\n    const { themeClasses } = provideTheme(props)\n    const { densityClasses } = useDensity(props)\n\n    useRender(() => (\n      <props.tag\n        class={[\n          'v-table',\n          {\n            'v-table--fixed-height': !!props.height,\n            'v-table--fixed-header': props.fixedHeader,\n            'v-table--fixed-footer': props.fixedFooter,\n            'v-table--has-top': !!slots.top,\n            'v-table--has-bottom': !!slots.bottom,\n            'v-table--hover': props.hover,\n          },\n          themeClasses.value,\n          densityClasses.value,\n        ]}\n      >\n        { slots.top?.() }\n\n        { slots.default ? (\n          <div\n            class=\"v-table__wrapper\"\n            style={{ height: convertToUnit(props.height) }}\n          >\n            <table>\n              { slots.default() }\n            </table>\n          </div>\n        ) : slots.wrapper?.() }\n\n        { slots.bottom?.() }\n      </props.tag>\n    ))\n\n    return {}\n  },\n})\n\nexport type VTable = InstanceType<typeof VTable>\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"order-list\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", null, [\n    /*#__PURE__*/_createElementVNode(\"th\", null, \" price \"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \" quantity \"),\n    /*#__PURE__*/_createElementVNode(\"th\", { class: \"order-list__total\" }, \" total \")\n  ])\n], -1)\nconst _hoisted_3 = { class: \"order-list__total\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_table = _resolveComponent(\"v-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"p\", null, _toDisplayString(_ctx.name), 1),\n    _createVNode(_component_v_table, {\n      height: \"40vh\",\n      \"fixed-header\": \"\",\n      class: \"order-list__table\"\n    }, {\n      default: _withCtx(() => [\n        _hoisted_2,\n        _createElementVNode(\"tbody\", null, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.orders, (ask) => {\n            return (_openBlock(), _createElementBlock(\"tr\", {\n              key: ask.price\n            }, [\n              _createElementVNode(\"td\", null, _toDisplayString(ask.price), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(ask.quantity), 1),\n              _createElementVNode(\"td\", _hoisted_3, _toDisplayString(ask.total), 1)\n            ]))\n          }), 128))\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}","\nimport {defineComponent} from 'vue';\n\nexport default defineComponent({\n  name: 'OrderList',\n\n  props: ['orders', 'name'],\n})\n","import { render } from \"./OrderList.vue?vue&type=template&id=0b5412a1&ts=true\"\nimport script from \"./OrderList.vue?vue&type=script&lang=ts\"\nexport * from \"./OrderList.vue?vue&type=script&lang=ts\"\n\nimport \"./OrderList.vue?vue&type=style&index=0&id=0b5412a1&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\WebstormProjects\\\\test-project-konomic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport {defineComponent} from 'vue';\nimport {Order} from \"@/interfaces/order.interface\";\nimport {Store, useStore} from \"vuex\";\nimport {StoredData, key} from \"@/store\";\nimport {requestBinance} from \"@/mixins/request-binance\";\nimport {webSockets} from \"@/mixins/web-sockets\";\n\ninterface ComponentData {\n  asks: Order[],\n  bids: Order[],\n  currentSymbol: string,\n  $store: Store<StoredData>\n}\n\nimport OrderList from '../components/OrderList.vue';\n\nexport default defineComponent({\n  name: 'HomeView',\n\n  components: {\n    OrderList,\n  },\n\n  mounted() {\n    this.currentSymbol = this.$store.state.currentCrypto;\n\n    requestBinance.method.getAllOrders(this.currentSymbol);\n    webSockets.method.webSocket(this.currentSymbol);\n\n    this.asks = this.$store.state.asks;\n    this.bids = this.$store.state.bids;\n  },\n\n  data(): ComponentData {\n    return {\n      asks: [],\n      bids: [],\n      currentSymbol: '',\n      $store: useStore(key)\n    }\n  },\n\n  watch: {\n    '$store.state.asks'() {\n      this.asks = this.$store.state.asks;\n    },\n    '$store.state.bids'() {\n      this.bids = this.$store.state.bids;\n    },\n    '$store.state.currentCrypto'() {\n      this.currentSymbol = this.$store.state.currentCrypto;\n    },\n  },\n\n  unmounted() {\n    webSockets.method.closeWS()\n  }\n});\n","import { render } from \"./HomeView.vue?vue&type=template&id=41d009e3&scoped=true&ts=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=ts\"\nexport * from \"./HomeView.vue?vue&type=script&lang=ts\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=41d009e3&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\WebstormProjects\\\\test-project-konomic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-41d009e3\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_OrderList","_resolveComponent","_openBlock","_createElementBlock","_createVNode","orders","asks","name","_createElementVNode","_toDisplayString","currentSymbol","bids","webSockets","method","webSocket","$store","useStore","key","currentWebSocket","WebSocket","toLowerCase","onmessage","event","currentBinancePrices","JSON","parse","data","this","updateOrdersInMainStore","a","state","b","commit","slice","ORDERS_LIMIT","wsSubscription","forEach","el","price","Number","quantity","foundedOrder","find","element","newQuantity","total","toFixed","push","closeWS","close","VTable","defineComponent","props","fixedHeader","Boolean","fixedFooter","height","String","hover","makeDensityProps","makeTagProps","makeThemeProps","setup","slots","themeClasses","provideTheme","densityClasses","useDensity","useRender","top","bottom","value","default","_slots$top","convertToUnit","wrapper","_slots$wrapper","_slots$bottom","_hoisted_3","_component_v_table","_withCtx","_Fragment","_renderList","ask","_","__exports__","components","OrderList","mounted","currentCrypto","requestBinance","watch","unmounted"],"sourceRoot":""}